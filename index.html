<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØµØ§Ù†Ø¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø®Ø¨Ø§Ø±ÙŠØ© Ø§Ù„Ø´Ø§Ù…Ù„ - Pro Max</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <style>
        :root {
            /* Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ù‚Ø¯ÙŠÙ… */
            --primary-bg: #f3f4f6;
            --card-grad-top: #3e4a21; 
            --card-grad-bot: #232b13;
            --accent-yellow: #ffc107;
            --smoke-height: 70%;
            --smoke-blur: 0px;
            --smoke-density: 20%;

            /* Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
            --new-green-bg-top: #0f5120;
            --new-green-bg-bot: #021a06;
            --neon-green: #00ff40;
            --pill-bg: rgba(255, 255, 255, 0.15);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--primary-bg);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .main-container {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            justify-content: center;
            align-items: flex-start;
            width: 100%;
            max-width: 1200px;
        }

        /* --- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… --- */
        .controls {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 400px;
        }

        .controls h3 { margin: 15px 0 10px 0; color: #333; border-bottom: 2px solid #eee; padding-bottom: 5px; font-size: 16px; }
        .alert-info { background: #e3f2fd; color: #0d47a1; padding: 10px; border-radius: 6px; font-size: 13px; margin-bottom: 15px; border: 1px solid #bbdefb; }

        .form-group { margin-bottom: 12px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: 700; font-size: 13px; color: #555; }
        
        .form-group input[type="text"], .form-group textarea, .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: 'Cairo', sans-serif;
        }
        
        .slider-group { background: #f8f9fa; padding: 10px; border-radius: 8px; border: 1px solid #e9ecef; margin-bottom: 10px; }
        .slider-row { display: flex; align-items: center; margin-bottom: 5px; }
        .slider-row label { width: 60px; font-size: 11px; margin-bottom: 0; }
        .slider-row input[type="range"] { flex-grow: 1; cursor: pointer; }
        .slider-row input[type="color"] { width: 50px; height: 30px; border: none; cursor: pointer; background: none; }

        .btn-download {
            width: 100%;
            padding: 12px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 15px;
            transition: 0.3s;
        }
        .btn-download:hover { background-color: #218838; }

        /* --- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© --- */
        .preview-area {
            position: relative;
        }

        /* =========================================
           Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ø£ÙˆÙ„ (Ø§Ù„Ù‚Ø¯ÙŠÙ… - ÙƒÙ„Ø§Ø³ÙŠÙƒ)
           ========================================= */
        #capture-card {
            position: relative;
            width: 400px;
            height: 500px;
            background: radial-gradient(circle at center top, var(--card-grad-top), var(--card-grad-bot));
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            text-align: center;
            color: white;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4); 
        }

        .logo-container { position: absolute; top: 25px; left: 25px; z-index: 10; }
        .logo-img { max-height: 45px; max-width: 110px; object-fit: contain; }
        
        .date-container {
            position: absolute; top: 25px; right: 25px; z-index: 10;
            font-weight: 600; font-size: 14px; color: rgba(255, 255, 255, 0.8);
            transform-origin: top right; direction: ltr;
        }

        .quote-mark {
            position: absolute; top: 90px; right: 20px;
            font-size: 160px; line-height: 1; color: var(--accent-yellow);
            font-family: sans-serif; font-weight: bold; z-index: 1;
        }

        .person-image {
            position: absolute; bottom: 0; left: 50%;
            transform: translateX(-50%); width: auto; height: 85%;
            z-index: 2; pointer-events: none; opacity: 1;
        }

        .smoke-overlay {
            position: absolute; bottom: 0; left: 0; width: 100%; height: var(--smoke-height);
            z-index: 3; pointer-events: none;
            background: linear-gradient(to top, var(--card-grad-bot) 0%, var(--card-grad-bot) var(--smoke-density), transparent 100%);
            backdrop-filter: blur(var(--smoke-blur)); -webkit-backdrop-filter: blur(var(--smoke-blur));
            mask-image: linear-gradient(to top, black 80%, transparent 100%);
            -webkit-mask-image: linear-gradient(to top, black 80%, transparent 100%);
        }

        .text-overlay { position: relative; z-index: 4; padding: 20px 25px 35px 25px; width: 100%; }
        .role, .name, .quote-text { display: block; transform-origin: center center; }
        .role { font-size: 13px; color: #e5e7eb; margin-bottom: 5px; }
        .name { font-size: 24px; font-weight: 900; color: var(--accent-yellow); margin-bottom: 10px; }
        .quote-text { font-size: 18px; font-weight: 700; line-height: 1.4; text-shadow: 0 2px 5px rgba(0,0,0,0.5); color: white; }

        .website-container {
            position: absolute; bottom: 15px; left: 20px; z-index: 20;
            display: flex; align-items: center; gap: 6px;
            color: white; font-size: 14px; font-weight: 600; transform-origin: left bottom;
        }
        .web-icon { width: 18px; height: 18px; }

        /* =========================================
           Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯ (Ø§Ù„Ø­Ø¯ÙŠØ« - Ø§Ù„Ù…ØªØ·ÙˆØ±)
           ========================================= */
        #capture-card-v2 {
            position: relative;
            width: 400px;
            height: 500px;
            background: linear-gradient(170deg, var(--new-green-bg-top) 0%, var(--new-green-bg-bot) 90%);
            overflow: hidden;
            display: none; 
            flex-direction: column;
            color: white;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4); 
        }

        /* --- [Ø¬Ø¯ÙŠØ¯] Ø­Ø§ÙˆÙŠØ© ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© Ù„Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ø­Ø¯ÙŠØ« --- */
        .v2-bg-layer {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 1; /* ÙÙˆÙ‚ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ØªØ¯Ø±Ø¬Ø© ÙˆØªØ­Øª Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
            pointer-events: none;
            overflow: hidden;
        }
        .v2-bg-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.1; /* Ù‚ÙŠÙ…Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© */
            transform-origin: center;
            transition: opacity 0.1s, transform 0.1s;
        }

        .abstract-circle-1 {
            position: absolute;
            width: 300px; height: 300px;
            background: radial-gradient(circle, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0) 70%);
            border-radius: 50%;
            top: -50px; left: 20%;
            pointer-events: none;
            z-index: 2;
        }
        .abstract-circle-2 {
            position: absolute;
            width: 400px; height: 400px;
            background: radial-gradient(circle, rgba(0, 255, 64, 0.05) 0%, rgba(0,0,0,0) 70%);
            border-radius: 50%;
            bottom: -100px; right: -100px;
            pointer-events: none;
            z-index: 2;
        }

        .v2-header-area {
            padding: 25px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            position: relative;
            z-index: 5;
        }

        .v2-date-pill {
            background-color: var(--pill-bg);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 700;
            color: white;
            backdrop-filter: blur(5px);
        }

        .v2-logo-box {
            background-color: var(--pill-bg);
            width: 60px; height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
            overflow: hidden;
        }
        .v2-logo-box img { max-width: 80%; max-height: 80%; object-fit: contain; }

        .v2-content-area {
            padding: 0 25px;
            margin-top: 40px;
            position: relative;
            z-index: 10;
        }

        .v2-urgent-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            background-color: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--neon-green);
            padding: 4px 12px;
            border-radius: 6px;
            color: var(--neon-green);
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .v2-urgent-icon { width: 14px; height: 14px; fill: currentColor; }

        .v2-main-title {
            font-size: 32px;
            font-weight: 900;
            color: var(--neon-green);
            line-height: 1.3;
            margin-bottom: 25px;
            text-align: right;
            position: relative;
            padding-bottom: 10px;
        }
        .v2-main-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 50px;
            height: 4px;
            background-color: var(--neon-green);
            border-radius: 2px;
        }

        .v2-body-text {
            font-size: 16px;
            color: #ffffff;
            line-height: 1.8;
            font-weight: 500;
            text-align: justify;
            text-align-last: right;
            opacity: 0.95;
        }

        .v2-footer-area {
            position: absolute;
            bottom: 25px;
            left: 25px;
            z-index: 10;
        }
        .v2-website-pill {
            background-color: var(--pill-bg);
            padding: 8px 18px;
            border-radius: 25px;
            display: flex;
            align-items: center;
            gap: 8px;
            color: white;
            font-size: 12px;
            font-weight: 600;
            backdrop-filter: blur(5px);
        }

    </style>
</head>
<body>

    <h1 style="margin-bottom: 20px; color: #3e4a21;">Ù…ØµÙ…Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø®Ø¨Ø§Ø±ÙŠØ© (Pro Max)</h1>

    <div class="main-container">
        
        <div class="controls">
            <div class="form-group" style="background: #e8f5e9; padding: 10px; border-radius: 8px; border: 1px solid #c8e6c9;">
                <label style="color: #2e7d32; font-size: 15px;">Ø§Ø®ØªØ± ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</label>
                <select id="templateSelector" style="border: 2px solid #4caf50; font-weight: bold;">
                    <option value="v1">Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ (ØµÙˆØ±Ø© Ø´Ø®ØµÙŠØ©)</option>
                    <option value="v2">Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø­Ø¯ÙŠØ« (ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£Ù„ÙˆØ§Ù†)</option>
                </select>
            </div>

            <div id="mappingInfo" class="alert-info">
                Ø­Ù‚Ù„ "Ø§Ù„Ø§Ø³Ù…" = Ø§Ø³Ù… Ø§Ù„Ø´Ø®ØµÙŠØ©.<br>
                Ø­Ù‚Ù„ "Ø§Ù„Ù†Øµ" = Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³.
            </div>

            <div id="v1-theme-controls">
                <h3>1. Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø¸Ù‡Ø± (V1)</h3>
                <div class="form-group">
                    <label>Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© (Ø§Ù„Ø«ÙŠÙ…)</label>
                    <select id="colorTheme">
                        <option value="olive" selected>Ø£Ø®Ø¶Ø± Ø²ÙŠØªÙŠ</option>
                        <option value="green">Ø£Ø®Ø¶Ø± Ø¹Ø§Ø¯ÙŠ</option>
                        <option value="blue">Ø£Ø²Ø±Ù‚ Ø¯Ø§ÙƒÙ†</option>
                        <option value="red">Ø£Ø­Ù…Ø± Ø¯Ø§ÙƒÙ†</option>
                        <option value="yellow">Ø£ØµÙØ±/Ø°Ù‡Ø¨ÙŠ Ø¯Ø§ÙƒÙ†</option>
                        <option value="black">Ø£Ø³ÙˆØ¯ Ù…Ù„ÙƒÙŠ</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø·Ø¨Ù‚Ø© Ø§Ù„Ø¯Ø®Ø§Ù†</label>
                    <div class="slider-group">
                        <div class="slider-row"><label>Ø§Ù„Ø§Ø±ØªÙØ§Ø¹</label><input type="range" id="smokeHeight" min="0" max="100" value="70"></div>
                        <div class="slider-row"><label>Ø§Ù„ÙƒØ«Ø§ÙØ©</label><input type="range" id="smokeDensity" min="0" max="90" value="30"></div>
                        <div class="slider-row"><label>Ø§Ù„Ø¶Ø¨Ø§Ø¨ÙŠØ©</label><input type="range" id="smokeBlur" min="0" max="20" value="0"></div>
                    </div>
                </div>
            </div>

            <div id="v2-theme-controls" style="display: none;">
                <h3>ğŸ¨ Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ø­Ø¯ÙŠØ«</h3>
                <div class="form-group">
                    <label>Ø«ÙŠÙ… Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¯Ø§ÙƒÙ†Ø©</label>
                    <select id="v2ThemeSelector">
                        <option value="green" selected>Ø£Ø®Ø¶Ø± Ø²ÙŠØªÙŠ (Dark Green)</option>
                        <option value="blue">Ø£Ø²Ø±Ù‚ Ù„ÙŠÙ„ÙŠ (Midnight Blue)</option>
                        <option value="red">Ø£Ø­Ù…Ø± Ù‚Ø±Ù…Ø²ÙŠ (Dark Crimson)</option>
                        <option value="yellow">Ø£ØµÙØ± Ø°Ù‡Ø¨ÙŠ (Dark Gold)</option>
                        <option value="black">Ø£Ø³ÙˆØ¯ Ø¯Ø§ÙƒÙ† (Pitch Black)</option>
                    </select>
                </div>

                <div class="form-group" style="background: #f0f7ff; padding: 10px; border-radius: 8px; border: 1px dashed #2196f3; margin-top: 15px;">
                    <label style="color:#0d47a1;">ğŸ–¼ï¸ Ø®Ù„ÙÙŠØ© Ù…Ø®ØµØµØ© (ØªØ£Ø«ÙŠØ± Ù…Ø¯Ù…Ø¬)</label>
                    <input type="file" id="v2BgInput" accept="image/*" style="margin-bottom: 5px;">
                    <div class="slider-group" style="background: white; border: none; padding: 5px;">
                        <div class="slider-row">
                            <label>Ø§Ù„Ø´ÙØ§ÙÙŠØ©</label>
                            <input type="range" id="v2BgOpacity" min="0" max="1" step="0.05" value="0.1">
                        </div>
                        <div class="slider-row">
                            <label>Ø§Ù„Ø­Ø¬Ù…</label>
                            <input type="range" id="v2BgScale" min="1" max="3" step="0.1" value="1">
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´Ø¹Ø§Ø±</label>
                <input type="file" id="logoInput" accept="image/*">
            </div>

            <div class="form-group" id="v1-person-upload">
                <label>ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©</label>
                <input type="file" id="personInput" accept="image/*">
            </div>

            <h3>2. Ø§Ù„Ù†ØµÙˆØµ ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰</h3>
            
            <div class="form-group">
                <label id="lbl-role">Ø§Ù„Ù…Ù†ØµØ¨ / Ø§Ù„ØªØµÙ†ÙŠÙ</label>
                <input type="text" id="roleInput" value="Ø§Ù„Ù…Ø¨Ø¹ÙˆØ« Ø§Ù„Ø£Ù…ÙŠØ±ÙƒÙŠ Ø§Ù„Ø®Ø§Øµ">
            </div>
            <div class="slider-group v1-only-controls">
                <div class="slider-row"><label>Ø§Ù„Ù„ÙˆÙ†</label><input type="color" id="roleColor" value="#e5e7eb"></div>
                <div class="slider-row"><label>Ø£ÙÙ‚ÙŠ</label><input type="range" id="roleX" min="-100" max="100" value="0"></div>
                <div class="slider-row"><label>Ø¹Ù…ÙˆØ¯ÙŠ</label><input type="range" id="roleY" min="-50" max="50" value="0"></div>
                <div class="slider-row"><label>Ø§Ù„Ø­Ø¬Ù…</label><input type="range" id="roleScale" min="0.5" max="2" step="0.1" value="1"></div>
            </div>

            <div class="form-group">
                <label id="lbl-name">Ø§Ù„Ø§Ø³Ù… / Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</label>
                <input type="text" id="nameInput" value="ØªÙˆÙ… Ø¨Ø§Ø±Ø§Ùƒ">
            </div>
            <div class="slider-group v1-only-controls">
                <div class="slider-row"><label>Ø§Ù„Ù„ÙˆÙ†</label><input type="color" id="nameColor" value="#ffc107"></div>
                <div class="slider-row"><label>Ø£ÙÙ‚ÙŠ</label><input type="range" id="nameX" min="-100" max="100" value="0"></div>
                <div class="slider-row"><label>Ø¹Ù…ÙˆØ¯ÙŠ</label><input type="range" id="nameY" min="-50" max="50" value="0"></div>
                <div class="slider-row"><label>Ø§Ù„Ø­Ø¬Ù…</label><input type="range" id="nameScale" min="0.5" max="2" step="0.1" value="1"></div>
            </div>

            <div class="form-group">
                <label id="lbl-quote">Ø§Ù„Ù†Øµ / Ø§Ù„Ø®Ø¨Ø±</label>
                <textarea id="quoteInput" rows="5">Ø£ÙƒØ¯Øª ÙÙŠ Ø§ØªØµØ§Ù„ Ù‡Ø§ØªÙÙŠ Ø¹Ù„Ù‰ Ø£Ù‡Ù…ÙŠØ© ÙˆÙ‚Ù Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„Ù†Ø§Ø±.</textarea>
            </div>
            <div class="slider-group v1-only-controls">
                <div class="slider-row"><label>Ø§Ù„Ù„ÙˆÙ†</label><input type="color" id="quoteColor" value="#ffffff"></div>
                <div class="slider-row"><label>Ø£ÙÙ‚ÙŠ</label><input type="range" id="quoteX" min="-100" max="100" value="0"></div>
                <div class="slider-row"><label>Ø¹Ù…ÙˆØ¯ÙŠ</label><input type="range" id="quoteY" min="-50" max="50" value="0"></div>
                <div class="slider-row"><label>Ø§Ù„Ø­Ø¬Ù…</label><input type="range" id="quoteScale" min="0.5" max="2" step="0.1" value="1"></div>
            </div>

            <h3 class="v1-only-controls">3. ØªØ­Ø±ÙŠÙƒ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©</h3>
            <div class="slider-group v1-only-controls">
                <div class="slider-row"><label>Ø£ÙÙ‚ÙŠ</label><input type="range" id="posX" min="-150" max="150" value="0"></div>
                <div class="slider-row"><label>Ø¹Ù…ÙˆØ¯ÙŠ</label><input type="range" id="posY" min="-100" max="100" value="0"></div>
                <div class="slider-row"><label>Ø§Ù„Ø­Ø¬Ù…</label><input type="range" id="scale" min="0.5" max="1.5" step="0.05" value="1"></div>
                <div class="slider-row"><label>Ø§Ù„Ø´ÙØ§ÙÙŠØ©</label><input type="range" id="opacity" min="0" max="1" step="0.05" value="1"></div>
            </div>

            <h3>4. Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
            <div class="form-group">
                <label>Ù†Øµ Ø§Ù„Ø±Ø§Ø¨Ø·</label>
                <input type="text" id="websiteInput" value="www.news-site.com">
            </div>
            <div class="slider-group v1-only-controls">
                <div class="slider-row"><label>Ø§Ù„Ù„ÙˆÙ†</label><input type="color" id="websiteColor" value="#ffffff"></div>
                <div class="slider-row"><label>Ø£ÙÙ‚ÙŠ</label><input type="range" id="websiteX" min="-50" max="250" value="0"></div>
                <div class="slider-row"><label>Ø¹Ù…ÙˆØ¯ÙŠ</label><input type="range" id="websiteY" min="-50" max="50" value="0"></div>
                <div class="slider-row"><label>Ø§Ù„Ø­Ø¬Ù…</label><input type="range" id="websiteScale" min="0.5" max="2" step="0.1" value="0.8"></div>
            </div>
            
            <h3>5. ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡</h3>
            <div class="form-group">
                <label>Ù†Øµ Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
                <input type="text" id="dateInput" value="">
            </div>
            <div class="slider-group v1-only-controls">
                <div class="slider-row"><label>Ø§Ù„Ù„ÙˆÙ†</label><input type="color" id="dateColor" value="#dddddd"></div>
                <div class="slider-row"><label>Ø£ÙÙ‚ÙŠ</label><input type="range" id="dateX" min="-50" max="50" value="0"></div>
                <div class="slider-row"><label>Ø¹Ù…ÙˆØ¯ÙŠ</label><input type="range" id="dateY" min="-50" max="50" value="0"></div>
                <div class="slider-row"><label>Ø§Ù„Ø­Ø¬Ù…</label><input type="range" id="dateScale" min="0.5" max="2" step="0.1" value="0.9"></div>
            </div>

            <button class="btn-download" onclick="downloadCard()">Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø© (Ø¯Ù‚Ø© ÙØ§Ø¦Ù‚Ø©)</button>
        </div>

        <div class="preview-area">
            <div id="capture-card">
                <div class="logo-container">
                    <img src="" id="logoDisplay" class="logo-img" style="display: none;">
                    <span id="logoText" style="font-weight:900; font-size:22px; color:white;">LOGO</span>
                </div>
                <div id="dateDisplay" class="date-container"></div>
                <div class="quote-mark">â€œ</div>
                <img src="https://pngimg.com/d/businessman_PNG6572.png" id="personDisplay" class="person-image">
                <div class="smoke-overlay" id="smokeOverlay"></div>
                <div class="text-overlay">
                    <p class="role" id="roleDisplay">Ø§Ù„Ù…Ø¨Ø¹ÙˆØ« Ø§Ù„Ø£Ù…ÙŠØ±ÙƒÙŠ Ø§Ù„Ø®Ø§Øµ</p>
                    <h2 class="name" id="nameDisplay">ØªÙˆÙ… Ø¨Ø§Ø±Ø§Ùƒ</h2>
                    <p class="quote-text" id="quoteDisplay">Ø£ÙƒØ¯Øª ÙÙŠ Ø§ØªØµØ§Ù„ Ù‡Ø§ØªÙÙŠ Ø¹Ù„Ù‰ Ø£Ù‡Ù…ÙŠØ© ÙˆÙ‚Ù Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„Ù†Ø§Ø±.</p>
                </div>
                <div id="websiteDisplay" class="website-container">
                    <svg class="web-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
                    <span id="websiteTextSpan">www.news-site.com</span>
                </div>
            </div>

            <div id="capture-card-v2">
                <div class="v2-bg-layer">
                    <img id="v2BgImage" class="v2-bg-img" src="" style="display:none;">
                </div>

                <div class="abstract-circle-1"></div>
                <div class="abstract-circle-2"></div>
                <div class="v2-header-area">
                    <div class="v2-date-pill" id="v2DateDisplay">27.01.2026</div>
                    <div class="v2-logo-box">
                        <img src="" id="v2LogoDisplay" style="display: none;">
                        <span id="v2LogoText" style="font-weight:900; font-size:14px; color:white;">LOGO</span>
                    </div>
                </div>
                <div class="v2-content-area">
                    <div class="v2-urgent-badge">
                        <svg class="v2-urgent-icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>
                        <span id="v2RoleDisplay">Ø¹Ø§Ø¬Ù„</span>
                    </div>
                    <h2 class="v2-main-title" id="v2NameDisplay">Ø§Ù„Ø³ÙŠØ§Ø³Ø© ÙˆØ§Ù„Ø§Ù‚ØªØµØ§Ø¯ Ø§Ù„ÙˆØ·Ù†ÙŠ</h2>
                    <p class="v2-body-text" id="v2QuoteDisplay">Ø£ÙƒØ¯Øª ÙÙŠ Ø§ØªØµØ§Ù„ Ù‡Ø§ØªÙÙŠ Ø¹Ù„Ù‰ Ø£Ù‡Ù…ÙŠØ© ÙˆÙ‚Ù Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„Ù†Ø§Ø±.</p>
                </div>
                <div class="v2-footer-area">
                    <div class="v2-website-pill">
                        <svg class="web-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
                        <span id="v2WebsiteTextSpan">www.news-site.com</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // === Ø«ÙŠÙ…Ø§Øª Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ù‚Ø¯ÙŠÙ… (V1) ===
        const themesV1 = {
            olive:  { top: '#3e4a21', bot: '#232b13' },
            green:  { top: '#1b5e20', bot: '#0d3311' },
            blue:   { top: '#1e3a6e', bot: '#0a193d' },
            red:    { top: '#8a0a0a', bot: '#4e0505' },
            yellow: { top: '#b28900', bot: '#5f4900' },
            black:  { top: '#2c2c2c', bot: '#000000' }
        };

        // === Ø«ÙŠÙ…Ø§Øª Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ø­Ø¯ÙŠØ« (V2) ===
        const themesV2 = {
            green:  { top: '#0f5120', bot: '#021a06', accent: '#00ff40' },
            blue:   { top: '#0a1e3d', bot: '#020a1a', accent: '#33ccff' },
            red:    { top: '#4a0a0a', bot: '#1a0202', accent: '#ff3333' },
            yellow: { top: '#423a05', bot: '#141201', accent: '#ffcc00' },
            black:  { top: '#1a1a1a', bot: '#000000', accent: '#ffffff' }
        };

        // ØªØºÙŠÙŠØ± Ø£Ù„ÙˆØ§Ù† V1
        document.getElementById('colorTheme').addEventListener('change', function() {
            const theme = themesV1[this.value];
            document.documentElement.style.setProperty('--card-grad-top', theme.top);
            document.documentElement.style.setProperty('--card-grad-bot', theme.bot);
        });

        // ØªØºÙŠÙŠØ± Ø£Ù„ÙˆØ§Ù† V2
        document.getElementById('v2ThemeSelector').addEventListener('change', function() {
            const theme = themesV2[this.value];
            document.documentElement.style.setProperty('--new-green-bg-top', theme.top);
            document.documentElement.style.setProperty('--new-green-bg-bot', theme.bot);
            document.documentElement.style.setProperty('--neon-green', theme.accent);
        });

        const smokeControls = {
            height: document.getElementById('smokeHeight'),
            density: document.getElementById('smokeDensity'),
            blur: document.getElementById('smokeBlur')
        };

        function updateSmoke() {
            document.documentElement.style.setProperty('--smoke-height', smokeControls.height.value + '%');
            document.documentElement.style.setProperty('--smoke-density', smokeControls.density.value + '%');
            document.documentElement.style.setProperty('--smoke-blur', smokeControls.blur.value + 'px');
        }

        Object.values(smokeControls).forEach(input => input.addEventListener('input', updateSmoke));

        const personDisplay = document.getElementById('personDisplay');
        function updateImageTransform() {
            personDisplay.style.transform = `translateX(calc(-50% + ${document.getElementById('posX').value}px)) translateY(${document.getElementById('posY').value * -1}px) scale(${document.getElementById('scale').value})`;
        }
        ['posX', 'posY', 'scale'].forEach(id => document.getElementById(id).addEventListener('input', updateImageTransform));
        document.getElementById('opacity').addEventListener('input', function() { personDisplay.style.opacity = this.value; });

        function updateTextTransform(elementId, xId, yId, scaleId) {
            const el = document.getElementById(elementId);
            el.style.transform = `translate(${document.getElementById(xId).value}px, ${document.getElementById(yId).value * -1}px) scale(${document.getElementById(scaleId).value})`;
        }

        const controlsConfig = [
            { display: 'roleDisplay', x: 'roleX', y: 'roleY', s: 'roleScale', color: 'roleColor', input: 'roleInput' },
            { display: 'nameDisplay', x: 'nameX', y: 'nameY', s: 'nameScale', color: 'nameColor', input: 'nameInput' },
            { display: 'quoteDisplay', x: 'quoteX', y: 'quoteY', s: 'quoteScale', color: 'quoteColor', input: 'quoteInput' },
            { display: 'dateDisplay', x: 'dateX', y: 'dateY', s: 'dateScale', color: 'dateColor', input: 'dateInput' }
        ];

        controlsConfig.forEach(cfg => {
            [cfg.x, cfg.y, cfg.s].forEach(id => document.getElementById(id).addEventListener('input', () => updateTextTransform(cfg.display, cfg.x, cfg.y, cfg.s)));
            document.getElementById(cfg.color).addEventListener('input', (e) => document.getElementById(cfg.display).style.color = e.target.value);
            document.getElementById(cfg.input).addEventListener('input', (e) => {
                document.getElementById(cfg.display).innerText = e.target.value;
                syncV2Content(); 
            });
        });

        const websiteDisplay = document.getElementById('websiteDisplay');
        function updateWebsiteTransform() {
            websiteDisplay.style.transform = `translate(${document.getElementById('websiteX').value}px, ${document.getElementById('websiteY').value * -1}px) scale(${document.getElementById('websiteScale').value})`;
        }
        ['websiteX', 'websiteY', 'websiteScale'].forEach(id => document.getElementById(id).addEventListener('input', updateWebsiteTransform));
        document.getElementById('websiteColor').addEventListener('input', (e) => websiteDisplay.style.color = e.target.value);
        document.getElementById('websiteInput').addEventListener('input', (e) => {
            document.getElementById('websiteTextSpan').innerText = e.target.value;
            syncV2Content();
        });

        document.getElementById('personInput').addEventListener('change', function() {
            const reader = new FileReader();
            reader.onload = e => personDisplay.src = e.target.result;
            reader.readAsDataURL(this.files[0]);
        });

        // [Ø¬Ø¯ÙŠØ¯] ÙƒÙˆØ¯ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø®Ù„ÙÙŠØ© V2
        document.getElementById('v2BgInput').addEventListener('change', function() {
            const reader = new FileReader();
            const bgImg = document.getElementById('v2BgImage');
            reader.onload = e => {
                bgImg.src = e.target.result;
                bgImg.style.display = 'block';
            };
            reader.readAsDataURL(this.files[0]);
        });

        function updateV2BgTransform() {
            const opacity = document.getElementById('v2BgOpacity').value;
            const scale = document.getElementById('v2BgScale').value;
            const bgImg = document.getElementById('v2BgImage');
            
            bgImg.style.opacity = opacity;
            bgImg.style.transform = `scale(${scale})`;
        }
        
        ['v2BgOpacity', 'v2BgScale'].forEach(id => {
            document.getElementById(id).addEventListener('input', updateV2BgTransform);
        });
        // ---------------------------------

        document.getElementById('logoInput').addEventListener('change', function() {
            const reader = new FileReader();
            reader.onload = e => {
                document.getElementById('logoDisplay').src = e.target.result;
                document.getElementById('logoDisplay').style.display = 'block';
                document.getElementById('logoText').style.display = 'none';
                document.getElementById('v2LogoDisplay').src = e.target.result;
                document.getElementById('v2LogoDisplay').style.display = 'block';
                document.getElementById('v2LogoText').style.display = 'none';
            };
            reader.readAsDataURL(this.files[0]);
        });

        function setInitialDate() {
            const today = new Date();
            const formattedDate = today.getDate().toString().padStart(2, '0') + '.' + (today.getMonth() + 1).toString().padStart(2, '0') + '.' + today.getFullYear();
            document.getElementById('dateInput').value = formattedDate;
            document.getElementById('dateDisplay').innerText = formattedDate;
            document.getElementById('v2DateDisplay').innerText = formattedDate;
            updateTextTransform('dateDisplay', 'dateX', 'dateY', 'dateScale');
        }

        const templateSelector = document.getElementById('templateSelector');
        const cardV1 = document.getElementById('capture-card');
        const cardV2 = document.getElementById('capture-card-v2');
        const v1OnlyControls = document.querySelectorAll('.v1-only-controls, #v1-theme-controls, #v1-person-upload');
        const v2ThemeControls = document.getElementById('v2-theme-controls');

        function syncV2Content() {
            document.getElementById('v2RoleDisplay').innerText = document.getElementById('roleInput').value;
            document.getElementById('v2NameDisplay').innerText = document.getElementById('nameInput').value;
            document.getElementById('v2QuoteDisplay').innerText = document.getElementById('quoteInput').value;
            document.getElementById('v2WebsiteTextSpan').innerText = document.getElementById('websiteInput').value;
            document.getElementById('v2DateDisplay').innerText = document.getElementById('dateInput').value;
        }

        templateSelector.addEventListener('change', function() {
            if (this.value === 'v1') {
                cardV1.style.display = 'flex';
                cardV2.style.display = 'none';
                v1OnlyControls.forEach(el => el.style.display = 'block');
                v2ThemeControls.style.display = 'none';
                document.getElementById('mappingInfo').innerText = 'Ø­Ù‚Ù„ "Ø§Ù„Ø§Ø³Ù…" = Ø§Ø³Ù… Ø§Ù„Ø´Ø®ØµÙŠØ©. Ø­Ù‚Ù„ "Ø§Ù„Ù†Øµ" = Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³.';
                document.getElementById('lbl-role').innerText = 'Ø§Ù„Ù…Ù†ØµØ¨ / Ø§Ù„ØªØµÙ†ÙŠÙ';
                document.getElementById('lbl-name').innerText = 'Ø§Ù„Ø§Ø³Ù…';
            } else {
                cardV1.style.display = 'none';
                cardV2.style.display = 'flex';
                v1OnlyControls.forEach(el => el.style.display = 'none');
                v2ThemeControls.style.display = 'block';
                document.getElementById('mappingInfo').innerText = 'Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ø­Ø¯ÙŠØ«: "Ø§Ù„Ø§Ø³Ù…" = Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø§Ù„Ù…Ù„ÙˆÙ†. "Ø§Ù„Ù†Øµ" = Ù…ØªÙ† Ø§Ù„Ø®Ø¨Ø±. "Ø§Ù„Ù…Ù†ØµØ¨" = Ø´Ø§Ø±Ø© Ø¹Ø§Ø¬Ù„.';
                document.getElementById('lbl-role').innerText = 'Ù†Øµ Ø§Ù„Ø´Ø§Ø±Ø© (Ù…Ø«Ù„: Ø¹Ø§Ø¬Ù„)';
                document.getElementById('lbl-name').innerText = 'Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ';
                syncV2Content();
            }
        });

        function downloadCard() {
            const activeCardId = templateSelector.value === 'v1' ? 'capture-card' : 'capture-card-v2';
            const elementToCapture = document.getElementById(activeCardId);
            html2canvas(elementToCapture, { 
                scale: 4, 
                useCORS: true,
                logging: false,
                backgroundColor: null
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = `news-card-${templateSelector.value}.png`;
                link.href = canvas.toDataURL('image/png', 1.0);
                link.click();
            });
        }
        
        // ØªØ´ØºÙŠÙ„ Ø£ÙˆÙ„ÙŠ
        updateWebsiteTransform();
        updateSmoke(); 
        setInitialDate();
        syncV2Content();

    </script>
</body>
</html>
